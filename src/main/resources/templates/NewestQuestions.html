<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Newest Questions</title>
    <link rel="stylesheet" th:href="@{/css/questions.css}">
</head>
<body>
<form method="get" action="#" style="margin: 1rem 0;">
    <input type="text" name="keyword" placeholder="Search..." th:value="${keyword}">
    <input type="text" name="tag" placeholder="Tag..." th:value="${tag}">
    <button type="submit">Filter</button>
</form>

<div class="question-list">
    <div th:each="question : ${questions}"
         th:replace="fragments/questionListFragment :: questionCard(${question})">
    </div>
</div>

<!-- Pagination -->
<div class="pagination">
    <a th:href="@{|/questions?page=0&tag=${tag}&keyword=${keyword}|}" th:if="${currentPage > 0}">First</a>

    <a th:href="@{|/questions?page=${currentPage - 1}&tag=${tag}&keyword=${keyword}|}" th:if="${currentPage > 0}">Previous</a>

    <span>Page [[${currentPage + 1}]] of [[${totalPages}]]</span>

    <a th:href="@{|/questions?page=${currentPage + 1}&tag=${tag}&keyword=${keyword}|}" th:if="${currentPage + 1 < totalPages}">Next</a>

    <a th:href="@{|/questions?page=${totalPages - 1}&tag=${tag}&keyword=${keyword}|}" th:if="${currentPage + 1 < totalPages}">Last</a>
</div>

</body>
</html>
